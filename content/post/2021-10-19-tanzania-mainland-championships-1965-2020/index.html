---
title: 'Tanzania Mainland Football Championships: 1965 - 2020'
author: 'Peter Boshe'
date: '2021-10-19'
categories: ["Sports"]
tags: ["DataViz", "Unguided project"]
output:
  blogdown::html_page:
    toc: true
    toc_depth: 2
images: []
summary: "This is a racing bar chart of the male football championships and the respective teams that have won over the past half century"
draft: true
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>

<div id="TOC">
<ul>
<li><a href="#setting-up-the-environment">setting up the environment</a></li>
<li><a href="#inspecting-the-dataset">inspecting the dataset</a></li>
<li><a href="#create-the-racing-bar-chart">create the racing bar chart</a></li>
</ul>
</div>

<p>This is a racing bar chart of the championships and the respective teams that have won over the past half century(acc. to <a href="http://www.rsssf.com/tablest/tanzchamp.html">Data</a>),</p>
<p>Would you have guessed that less than 10 teams (only 9 teams) have won since the conception of the cup?</p>
<div id="setting-up-the-environment" class="section level2">
<h2>setting up the environment</h2>
<pre class="r"><code># clear environment 
rm(list = ls())

# setting environment 
library(readxl)
library(tidyverse)
library(gganimate)
library(lubridate)

# loading data 
df &lt;- read_excel(&quot;Tanzania mainland championships.xlsx&quot;)</code></pre>
</div>
<div id="inspecting-the-dataset" class="section level2">
<h2>inspecting the dataset</h2>
<pre class="r"><code>skimr::skim(df)</code></pre>
<table>
<caption><span id="tab:inspection">Table 1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">df</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">56</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Team</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="right">17</td>
<td align="right">0</td>
<td align="right">9</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Year</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1992.5</td>
<td align="right">16.31</td>
<td align="right">1965</td>
<td align="right">1978.75</td>
<td align="right">1992.5</td>
<td align="right">2006.25</td>
<td align="right">2020</td>
<td align="left">▇▇▇▇▇</td>
</tr>
</tbody>
</table>
</div>
<div id="create-the-racing-bar-chart" class="section level2">
<h2>create the racing bar chart</h2>
<p>Note: data with incomplete detail was removed</p>
<pre class="r"><code>data_df &lt;- df %&gt;% 
  select(Team, Year) %&gt;% 
  group_by(Team) %&gt;% 
  mutate(cups = 1:n())  %&gt;% 
  # mutate(rank = 1:n())  %&gt;% 
  # pivot_wider(names_from = &quot;Year&quot;, values_from = &quot;cups&quot;) %&gt;% 
  # pivot
  ungroup() %&gt;% 
  group_by(Year) %&gt;% 
  arrange(-cups) %&gt;% 
  ggplot(aes(x = cups, y = Team, group = Team,
             fill = as.factor(Team))) +
  geom_col() +
  # geom_rect(aes(xmin = 0, 
  #               xmax = cups,
  #               ymin = Team[cups &gt; 0] ,
  #               ymax = Team[cups &gt; 0],
  #               y = Team[cups &gt; 0]))+
  facet_wrap(~ Year) +
  scale_x_continuous(limits = c(0,30),
                     breaks = 1:30) +
  ggtitle(&quot;Mainland Championships since inception&quot;) +
  labs(x = &quot;Cups&quot;) +
  labs(y = &quot;Teams that have won&quot;) +
  labs(fill = NULL) +
  theme_classic() +
  facet_null() +
  geom_text(col = &quot;darkblue&quot;, size = 12,
            aes(group = Team, label = as.character(Year), x = 27, y = 3 )) +
  transition_time(Year)</code></pre>
</div>
